{{ define "main" }}
<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="mb-4">{{.Title }}</h2>
        <img src="{{.Params.Image | absURL }}" alt="{{.Site.Params.author}}" class="img-fluid w-100 mb-4">
        {{ .Content }}
        
        <!-- 📨 이메일 폼 -->
        <form id="contact-form" class="row mt-5">
            <div class="col-lg-6">
                <input type="text" class="form-control mb-4" name="name" id="name" placeholder="Name" required>
            </div>
            <div class="col-lg-6">
                <input type="email" class="form-control mb-4" name="email" id="email" placeholder="Email" required>
            </div>
            <div class="col-12">
                <textarea name="message" id="message" class="form-control mb-4" placeholder="Message..." required></textarea>
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
        
        <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("contact-form").addEventListener("submit", function (event) {
                event.preventDefault(); // 기본 폼 제출 방지
        
                const formData = new FormData(this);
        
                fetch("https://script.google.com/macros/s/AKfycby.../exec", {
                    method: "POST",
                    body: formData
                })
                .then(response => response.text())
                .then(data => {
                    alert("✅ 메일이 성공적으로 전송되었습니다!");
                    window.location.href = "https://mtinet.cc/contact"; // ✅ 현재 창에서 contact 페이지로 이동
                })
                .catch(error => {
                    console.error("Error:", error);
                    alert("❌ 메일 전송에 실패했습니다.");
                });
            });
        });
        </script>


      </div>
    </div>
  </div>
</section>

{{ partial "instafeed.html" . }}

{{ end }}
